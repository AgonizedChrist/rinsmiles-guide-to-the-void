<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.1.0.3 (Linux)"/>
	<meta name="created" content="2021-02-10T05:16:58.868480231"/>
	<meta name="changed" content="00:00:00"/>
	<style type="text/css">
		@page { size: 8.27in 11.69in; margin-left: 0.39in; margin-right: 0.39in; margin-top: 0.39in; margin-bottom: 0.26in }
		p { margin-bottom: 0.1in; line-height: 115%; text-align: justify; background: transparent; page-break-before: auto }
		h1 { margin-top: 0in; margin-bottom: 0in; color: #28471f; line-height: 115%; text-align: center; background: transparent; text-decoration: underline; page-break-before: auto; page-break-after: avoid }
		h1.western { font-family: "DejaVu Sans Condensed", sans-serif; font-size: 16pt; font-weight: normal }
		h1.cjk { font-family: "DejaVu Sans"; font-size: 16pt; font-weight: normal }
		h1.ctl { font-family: "DejaVu Sans"; font-size: 16pt; font-weight: normal }
		h2 { margin-top: 0in; margin-bottom: 0in; color: #28471f; line-height: 115%; text-align: justify; background: transparent; text-decoration: none; page-break-before: auto; page-break-after: avoid }
		h2.western { font-family: "DejaVu Sans Condensed", sans-serif; font-size: 14pt; font-weight: normal }
		h2.cjk { font-family: "DejaVu Sans"; font-size: 16pt; font-weight: normal }
		h2.ctl { font-family: "DejaVu Sans"; font-size: 16pt; font-weight: normal }
		h3 { margin-top: 0in; margin-bottom: 0in; color: #28471f; line-height: 115%; text-align: justify; background: transparent; text-decoration: underline; page-break-before: auto; page-break-after: avoid }
		h3.western { font-family: "DejaVu Sans Condensed", sans-serif; font-size: 12pt; font-weight: normal }
		h3.cjk { font-family: "DejaVu Sans"; font-size: 14pt; font-weight: bold }
		h3.ctl { font-family: "DejaVu Sans"; font-size: 14pt; font-weight: bold }
		h5 { margin-top: 0.08in; margin-bottom: 0.04in; line-height: 115%; text-align: justify; background: transparent; page-break-before: auto; page-break-after: avoid }
		h5.western { font-family: "DejaVu Sans Condensed", sans-serif; font-size: 11pt; font-weight: bold }
		h5.cjk { font-family: "DejaVu Sans"; font-size: 11pt; font-weight: bold }
		h5.ctl { font-family: "DejaVu Sans"; font-size: 11pt; font-weight: bold }
		code { font-family: "Liberation Mono", monospace }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
	</style>
</head>
<body lang="en-US" link="#000080" vlink="#800000" dir="ltr"><span class="sd-abs-pos" style="position: absolute; top: 0in; left: 0in; width: 745px">
<img src="rinsmiles-guide-to-the-void-202009_html_3c15149f6ab6f4a8.png" name="Void Logo" width="745" height="613" border="0"/>
</span><p align="center" style="margin-bottom: 0in; font-weight: normal">
<br/>

</p>
<p align="center" style="margin-bottom: 0in; line-height: 100%"><font face="Alef"><font size="7" style="font-size: 48pt"><i><b>rinsmiles<font face="Alef">’</font></b></i></font></font></p>
<p align="center" style="margin-bottom: 0in; line-height: 100%"><font face="Alef"><font size="7" style="font-size: 48pt"><i><b>Guide
to the</b></i></font></font></p>
<p align="center" style="margin-bottom: 0in; font-weight: normal; line-height: 150%">
<br/>

</p>
<p align="center" style="margin-bottom: 0in; font-weight: normal; line-height: 150%">
<br/>

</p>
<p align="center" style="margin-bottom: 0in; font-weight: normal; line-height: 150%">
<br/>

</p>
<p align="center" style="margin-bottom: 0in; font-weight: normal; line-height: 150%">
<br/>

</p>
<p align="center" style="margin-bottom: 0in; line-height: 150%"><font face="Alef"><font size="7" style="font-size: 32pt"><i><b>v2020.09</b></i></font></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><font size="3" style="font-size: 13pt"><i>rinsmiles´
Guide to the Void</i></font><font size="3" style="font-size: 13pt">
is a guide for installing and setting up a Void operating system:</font></p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="center" style="margin-bottom: 0in"><font size="3" style="font-size: 12pt"><a href="https://voidlinux.org/"><font color="#28471f"><font size="3" style="font-size: 13pt">voidlinux.org</font></font></a></font></p>
<p align="left" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><font size="3" style="font-size: 13pt">It
mainly, and merely intends to </font><font size="3" style="font-size: 13pt"><i>guide</i></font><font size="3" style="font-size: 13pt">
the user through the steps, providing hints and examples along the
way, and it is complemented by the official Void documentation.</font></p>
<p align="justify" style="margin-bottom: 0in; font-style: normal"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><font color="#28471f"><font size="3" style="font-size: 13pt"><span style="font-style: normal">The
installation is performed </span></font><font size="3" style="font-size: 13pt"><i>from
the ground up,</i></font><font size="3" style="font-size: 13pt"><span style="font-style: normal">
by bootstrapping the new system with the XBPS package manager from a
console. </span></font><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">After
following through with this guide, the user will have a fully
configured, reliable, performant</span></span></font><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">
and</span></span></font><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">fundamental</span></span></font></font><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">
system which they can then tune and extend to their requirements.</span></span></font></font></p>
<p align="justify" style="margin-bottom: 0in; font-style: normal"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><font color="#000000"><font size="3" style="font-size: 13pt"><span style="font-style: normal">This
guide assumes </span></font></font><font size="3" style="font-size: 13pt"><span style="font-style: normal">that
the user is familiar with the use of a shell, core utilities and
GNU/Linux operating systems, and that they will take a look at
specific documentation of any tool and feature with which they are
not.</span></font></p>
<p align="justify" style="margin-bottom: 0in; font-style: normal"><br/>

</p>
<hr/>

<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><font size="3" style="font-size: 13pt">rinsmiles<font face="DejaVu Sans Condensed, sans-serif">´</font>
Guide to the Void is licensed under CC BY 4.0. To view a copy of this
license, visit</font></p>
<p align="center" style="margin-bottom: 0in"><a href="https://creativecommons.org/licenses/by/4.0">https://creativecommons.org/licenses/by/4.0</a><font color="#28471f"><font size="3" style="font-size: 13pt">
</font></font>
</p>
<div id="Table of Contents1" dir="ltr">
	<div id="Table of Contents1_Head" dir="ltr"><p style="margin-bottom: 0.08in; page-break-before: always; page-break-after: avoid">
		<font color="#28471f"><font face="DejaVu Sans Condensed, sans-serif"><font size="4" style="font-size: 16pt"><b>Index</b></font></font></font></p>
	</div>
	<p style="margin-right: 0.04in; margin-bottom: 0.05in"><font color="#28471f"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 13pt"><b><a href="#__RefHeading___Toc11806_1441295224">Installation	3</a></b></font></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11888_1441295224">0.
	Boot a base live image of Void and login as root.	3</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11808_1441295224">1.
	Set keyboard layout and desired font	3</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11810_1441295224">2.
	Set up filesystems	3</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11812_1441295224">3.
	Connect to the internet	3</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11814_1441295224">4.
	Install Void on the mounted filesystem	4</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11818_1441295224">5.
	Chroot into the newly installed system	5</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11820_1441295224">6.
	Configure the basics	5</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11822_1441295224">7.
	Set up swap	6</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11824_1441295224">8.
	Make the new installation bootable	7</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11826_1441295224">9.
	Reconfigure and reboot	7</a></font></font></p>
	<p style="margin-right: 0.04in; margin-bottom: 0.05in"><font color="#28471f"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 13pt"><b><a href="#__RefHeading___Toc11828_1441295224">System
	Components and Management	8</a></b></font></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11830_1441295224">Network	8</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11832_1441295224">Firewall	8</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11834_1441295224">Users	8</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11836_1441295224">Audio	9</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11838_1441295224">Display
	server	9</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11892_1441295224">Installation	9</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11894_1441295224">Configuration	9</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11896_1441295224">Starting
	the X server	11</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11840_1441295224">Input
	and ACPI events	12</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11898_1441295224">Reboot,
	shutdown and suspend	12</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11900_1441295224">Hibernation	13</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11902_1441295224">Volume
	and backlight	13</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11904_1441295224">Power
	and battery	13</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11842_1441295224">Scheduled
	actions	13</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11844_1441295224">Network
	Time Synchronization	13</a></font></font></p>
	<p style="margin-left: 0.39in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><a href="#__RefHeading___Toc11846_1441295224">Filesystem
	TRIM	14</a></font></font></p>
	<p style="margin-right: 0.04in; margin-bottom: 0.05in"><font color="#28471f"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 13pt"><b><a href="#__RefHeading___Toc11848_1441295224">Power
	saving and performance	15</a></b></font></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11850_1441295224">Laptop
	mode	15</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11852_1441295224">Lockup
	detectors	15</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11854_1441295224">PCI
	and SCSI bus devices	15</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11856_1441295224">HDD
	Advanced Power Management	16</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11858_1441295224">Filesystems
	and virtual memory	17</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11860_1441295224">Audio
	power save	17</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11862_1441295224">CPU
	frequency scaling	18</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11864_1441295224">Initial
	images	18</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc12693_1441295224">Power
	profiles	19</a></font></font></p>
	<p style="margin-left: 0.16in; margin-right: 0.04in; margin-bottom: 0.04in">
	<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><a href="#__RefHeading___Toc11866_1441295224">What
	about...?	19</a></font></font></p>
	<p style="margin-right: 0.04in; margin-bottom: 0.05in"><font color="#28471f"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 13pt"><b><a href="#__RefHeading___Toc12346_1441295224">APPENDIX	20</a></b></font></font></font></p>
</div>
<h1 class="western"><a name="__RefHeading___Toc11806_1441295224"></a>Installation</h1>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western" align="justify" style="font-weight: normal; line-height: 115%; text-decoration: none; page-break-before: auto; page-break-after: avoid"><a name="__RefHeading___Toc11888_1441295224"></a>
<font color="#28471f"><font face="DejaVu Sans Condensed, sans-serif">0.
Boot a base live image of Void and login as root.</font></font></h2>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11808_1441295224"></a>1.
Set keyboard layout and desired font</h2>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The default keyboard layout is <font face="DejaVu Sans Mono, monospace">us</font>,
and the default small font is <font face="DejaVu Sans Mono, monospace">default8x16</font>.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">Available layouts are located in
<font face="DejaVu Sans Mono, monospace">/usr/share/kbd/keymaps/</font>.
You can set one with <b>loadkeys</b>.</p>
<p style="margin-bottom: 0in">Console fonts reside in
<font face="DejaVu Sans Mono, monospace">/usr/share/kbd/consolefonts/</font>.
You can set one with <b>setfont</b>.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11810_1441295224"></a>2.
Set up filesystems</h2>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none">You
will minimally need to set up a </span><u>root partition</u><span style="text-decoration: none">,
and an </span><u>EFI system partition</u><span style="text-decoration: none">
(ESP) under UEFI.</span></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">a)
I</span></span><span style="text-decoration: none">dentify the block
devices to manage—you can list them with </span><span style="text-decoration: none"><b>lsblk</b></span><span style="text-decoration: none">.</span></p>
<ul>
	<li><p style="margin-bottom: 0in; text-decoration: none">If you
	already have an ESP on the target device and want to preserve it
	(for example, when dual-booting with a different OS on the same
	drive) you could use it as Void’s ESP as well.</p>
	<li><p style="margin-bottom: 0in"><span style="text-decoration: none">If
	you are re-purposing a whole drive, you can wipe all signatures from
	the device with the </span><span style="text-decoration: none"><b>wipefs</b></span><span style="text-decoration: none">
	command.</span></p>
</ul>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">b)
Creat</span></span><span style="text-decoration: none">e, as needed,
a new partition table and the required partitions with </span><span style="text-decoration: none"><b>fdisk</b></span><span style="text-decoration: none">.</span></p>
<ul>
	<li><p style="margin-bottom: 0in; text-decoration: none">If wishing
	to use hibernation<span style="font-style: normal">, create a swap
	partition as well.</span></p>
	<li><p style="margin-bottom: 0in; text-decoration: none">The ESP
	should be at least 200MB in size to allow for multiple kernel
	installs. Make sure to set the partition type of the ESP accordingly
	(typically named <font face="DejaVu Sans Condensed, sans-serif">“</font>EFI
	System<font face="DejaVu Sans Condensed, sans-serif">”</font>).</p>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none">fdisk</span></span></font><span style="text-decoration: none">
	handles partition alignment automatically.</span></p>
</ul>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">c)
Forma</span></span><span style="text-decoration: none">t the created
partitions with </span><span style="text-decoration: none"><b>mkfs</b></span><span style="text-decoration: none">.</span></p>
<ul>
	<li><p style="margin-bottom: 0in"><i><span style="text-decoration: none">mkfs.vfat</span></i><span style="text-decoration: none">,
	</span><i><span style="text-decoration: none">mkfs.ext4</span></i><span style="text-decoration: none">
	and </span><i><span style="text-decoration: none">mkfs.btrfs</span></i><span style="text-decoration: none">
	are some filesystem specific frontends for this purpose.</span></p>
	<li><p style="margin-bottom: 0in">For most UEFI implementations the
	ESP must be formatted as FAT. The appropriate FAT type (FAT16,
	FAT32) is determined automatically by<span style="font-style: normal">
	</span><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">mkfs.vfat</span></font><span style="font-style: normal">.</span></p>
</ul>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><span style="font-weight: normal">d)
Fi</span>nally, <b>mount</b> the created partitions—you can mount
the root partition to <font face="DejaVu Sans Mono, monospace">/mnt/</font>,
create the directory <font face="DejaVu Sans Mono, monospace">/mnt/boot</font>,
and then mount the ESP to such directory.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11812_1441295224"></a>3.
Connect to the internet</h2>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">If you are on a <u>wired network</u>,
you will likely already be connected to the internet. Verify this
with a tool like<span style="font-weight: normal"> </span><font face="DejaVu Sans Mono, monospace"><span style="font-weight: normal">ping</span></font><span style="font-weight: normal">,
</span>for example (hitting <font face="DejaVu Sans Mono, monospace">Ctrl+C</font>
to interrupt it):</p>
<p style="margin-bottom: 0in">	# <font face="DejaVu Sans Mono, monospace">ping
voidlinux.org</font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">If you are on a <u>wireless network</u>,
the connection will have to be configured:</p>
<p style="margin-bottom: 0in">	i) Make sure the interface is not hard
or soft blocked. Do the latter using <b>rfkill</b>:</p>
<p style="margin-bottom: 0in">		# <font face="DejaVu Sans Mono, monospace">rfkill
unblock wlan</font></p>
<p style="margin-bottom: 0in">	ii) Check that the wireless interface
is listed with the <b>ip link</b> command, then set it up:</p>
<p style="margin-bottom: 0in">		# <font face="DejaVu Sans Mono, monospace">ip
link set </font><font face="DejaVu Sans Mono, monospace">❬</font><font face="DejaVu Sans Mono, monospace">wireless_interface</font><font face="DejaVu Sans Mono, monospace">❭</font><font face="DejaVu Sans Mono, monospace">
up</font></p>
<p style="margin-bottom: 0in">	</p>
<p style="margin-bottom: 0in; page-break-before: always">	iii)
Configure the wireless network using <b>wpa_supplicant</b>:</p>
<p style="margin-bottom: 0in"><font color="#000000"><span style="font-style: normal">		#
</span><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">wpa_passphrase
</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">ssid</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">❭</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">
</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">❬</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">passphrase</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">❭</span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">
&gt;&gt; \</span></font></font></p>
<p style="margin-bottom: 0in; font-style: normal"><font color="#000000"><font face="DejaVu Sans Mono, monospace">			/etc/wpa_supplicant/wpa_supplicant.conf</font></font></p>
<p style="margin-bottom: 0in"><font color="#000000"><span style="font-style: normal">		</span></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">#
wpa_supplicant -B -i </span></font></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">❬</span></font></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">wireless_interface</span></font></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">❭</span></font></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">
\</span></font></font></p>
<p style="margin-bottom: 0in; font-style: normal"><font color="#000000"><font face="DejaVu Sans Mono, monospace">		&gt;
-c /etc/wpa_supplicant/wpa_supplicant.conf</font></font></p>
<p style="margin-bottom: 0in">	iv) Disable <b>dhcpcd</b>'s Link-local
IPv4 addressing and issue an interface rebind:</p>
<p style="margin-bottom: 0in"><font color="#000000">		# <font face="DejaVu Sans Mono, monospace">echo
'noipv4ll' &gt;&gt; /etc/dhcpcd.conf</font></font></p>
<p style="margin-bottom: 0in"><font color="#000000">		# <font face="DejaVu Sans Mono, monospace">dhcpcd
-n</font></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11814_1441295224"></a>4.
Install Void on the mounted filesystem</h2>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none">Set
up the parameters that </span><span style="text-decoration: none"><b>xbps-install</b></span><span style="text-decoration: none">
will use to install the new system:</span></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">a)
Defi</span></span><span style="text-decoration: none">ne your
preferred main repository mirror from which to download the packages,
e.g:</span></p>
<p style="margin-bottom: 0in; text-decoration: none">	#
<font face="DejaVu Sans Mono, monospace">REPO=https://alpha.us.repo.voidlinux.org/current</font></p>
<p style="margin-bottom: 0in"><span style="text-decoration: none">Define
any other repositories you need—e.g. the </span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none">non-free</span></font><span style="text-decoration: none">
</span><i><span style="text-decoration: none">repo,</span></i><span style="text-decoration: none">
for proprietary firmware:</span></p>
<p style="margin-bottom: 0in; text-decoration: none">	#
<font face="DejaVu Sans Mono, monospace">REPONF=https://alpha.us.repo.voidlinux.org/current/nonfree</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><span style="font-weight: normal">b)
Set </span>the architecture and C standard library implementation
flavor to install, e.g:</p>
<p style="margin-bottom: 0in; text-decoration: none">	# <font face="DejaVu Sans Mono, monospace">ARCH=x86_64</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">c)
Sele</span></span><span style="text-decoration: none">ct the packages
to install. It can be as simple as installing the </span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none">base-system</span></font><span style="text-decoration: none">
and </span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none">efibootmgr</span></font><span style="text-decoration: none">
packages, or something more selective, such as:</span></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	Basic
components, including base files, XBPS, runit, shell, kernel,
firmware and</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	other core
utilities and libraries:</i></p>
<p style="margin-bottom: 0in; text-decoration: none">	#
<font face="DejaVu Sans Mono, monospace">PACKS=</font><font face="DejaVu Sans Mono, monospace"><b>'</b></font><font face="DejaVu Sans Mono, monospace">base-minimal
linux kbd file ncurses libgcc libstdc++</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	…
essential services to manage input, device and time-based events:</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace">	&gt;
acpid eudev snooze</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	… along
with our selected filesystems’ tools:</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace">	&gt;
dosfstools e2fsprogs (btrfs-progs)</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	…
utilities to query and configure boot entries and system bus devices:</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace">	&gt;
efibootmgr pciutils (usbutils)</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	… those
you need to set up networking:</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace">	&gt;
iproute2 dhcpcd (iwd|wpa_supplicant)</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	…
documentation and utilities to access it:</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace">	&gt;
<font face="DejaVu Sans Mono, monospace">mdocml man-pages void-docs</font></font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Condensed, sans-serif"><i>	…
any extra firmware you need, if using the non-free repo enabling it
for the new install:</i></font></p>
<p style="margin-bottom: 0in"><span style="text-decoration: none">	&gt;
(</span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none">intel-ucode
void-repo-nonfree)</span></font></p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	… and any
additional software you may want to initially install, like an
application to easily</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	edit text
files and utilities to test network connectivity:</i></p>
<p style="margin-bottom: 0in"><span style="text-decoration: none">	&gt;
</span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none">nano
mtr</span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><b>'</b></span></font></p>
<p style="margin-bottom: 0in; page-break-before: always"><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">Note:
AMD device firmware is already included in the </span></span></i></font><font face="DejaVu Sans Mono, monospace"><i><span style="text-decoration: none"><span style="font-weight: normal">kernel</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">
meta-package. Microcode updates are applied automatically once
configured by XBPS.</span></span></i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">d)
Issue the installation of the packages to the new root partition
mount (here </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/mnt</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">):</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none">	#
<font face="DejaVu Sans Mono, monospace">XBPS_ARCH=$ARCH xbps-install
-S -r /mnt -R &quot;$REPO&quot; \</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Condensed, sans-serif"><i>	…
optionally:</i></font></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Condensed, sans-serif">	&gt;</font><font face="DejaVu Sans Mono, monospace">
-R &quot;$REPONF&quot; \</font></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Condensed, sans-serif"><i>	…
then:</i></font></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Condensed, sans-serif">	&gt;</font><font face="DejaVu Sans Mono, monospace">
$PACKS</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11818_1441295224"></a>5.
Chroot into the newly installed system</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
a) Mount the pseudo-filesystems needed for a chroot:</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">mount --rbind /sys
/mnt/sys   &amp;&amp; mount --make-rslave /mnt/sys</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">mount --rbind /dev
/mnt/dev   &amp;&amp; mount --make-rslave /mnt/dev</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">mount --rbind /proc
/mnt/proc &amp;&amp; mount --make-rslave /mnt/proc</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
b) Copy the DNS configuration into the new root in case more packages
are to be downloaded:</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">cat /etc/resolv.conf &gt;
/mnt/etc/resolv.conf</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
c) And <b>chroot</b> to the new installation:</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">chroot /mnt/</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><i><span style="text-decoration: none"><span style="font-weight: normal">Note:
Having installed </span></span><span style="text-decoration: none"><b>void-docs</b></span><span style="text-decoration: none"><span style="font-weight: normal">
on the new system, you can now access Void’s documentation directly
using that command with the option </span></span><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">-r</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">,
which displays items as regular man pages.</span></span></i></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11820_1441295224"></a>6.
Configure the basics</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
a) Set the system’s hostname:</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">echo
</span></span></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></span></font></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">system_hostname</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">
&gt; /etc/hostname</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">b)
Edit </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/rc.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
with your text editor of choice, setting</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">
the system</span></span><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">’</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">s
time settings and the console</span></span><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">’</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">s
default keyboard layout and fonts</span></span><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">c)
If installing a </span></span><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">glibc</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">
distribution, uncomment desired locales in </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/default/libc-locales</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">
and generate locale files by reconfiguring the </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">glibc-locales</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">
package:</span></span></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">xbps-reconfigure -f
glibc-locales</font></p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">You
can then set specific locale options in </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/locale.conf</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">,
as displayed by </span></span><span style="text-decoration: none"><b>locale</b></span><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
d) Set the root password:</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	# <font face="DejaVu Sans Mono, monospace">passwd</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">e)
Configure </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">fstab</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">.
This can be as simple as adding entries for the root and ESP
partitions to the existing file, setting the appropriate parameters
for each. You can look up current mount </span></span><font color="#000000"><span style="text-decoration: none"><span style="font-weight: normal">information
in </span></span></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/proc/mounts</span></span></font></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
or by using </span></span></font></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>findmnt</b></span></font></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:</span></span></font></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">findmnt
-kl -o SOURCE,UUID,TARGET,FSTYPE,OPTIONS --real</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none; page-break-before: always">
For example, the file may result like so:</p>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">/etc/fstab</font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
&lt;file system&gt;  	&lt;dir&gt;  	&lt;type&gt;	&lt;options&gt; 		 
	&lt;dump&gt;   &lt;pass&gt;</font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
/dev/sda2</font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">UUID=a1b2(...)		/		ext4		defaults				0	
   1</span></font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
/dev/sda1</font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">UUID=9Z8Y(...)		/boot		vfat		defaults,umask=022,utf8	0	
   2</font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
/tmp tmpfs</font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">tmpfs
	       	/tmp		tmpfs		defaults,nosuid,nodev 	0	    0</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">f) If you used another
mirror in place of the default one for installation, add that to your
XBPS configuration by overriding the corresponding system
configuration file—e.g:</font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">echo
'repository=https://alpha.us.repo.voidlinux.org/current' &gt; \</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	&gt;
<font face="DejaVu Sans Mono, monospace">/etc/xbps.d/00-repository-main.conf</font></font></p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">The
corresponding name of the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">non-free</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
repo system file is </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">10-repository-nonfree.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><span style="text-decoration: none"><span style="font-weight: normal">g)
If you had to unblock wireless interfaces with </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">rfkill</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">
previously, add the command to  </span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/rc.local</span></span></font><span style="text-decoration: none"><span style="font-weight: normal">
to do this automatically on system initialization, before services
are executed:</span></span></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace">	# echo 'rfkill unblock
wlan' &gt;&gt; /etc/rc.local</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11822_1441295224"></a>7.
Set up swap</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">Setting up swap is
required if you will use hibernation, and necessary on systems with
low to moderate amounts of physical memory (and otherwise simply
prudent).</font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	If
you have created a swap partition, start in step d below replacing
&quot;</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/swap</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">&quot;
with your swap partition (prefer UUID for the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">fstab</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
entry).</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	Or else, set up a
swap file going through the following steps:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">a)
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">If
not using btrfs, jump to step b.</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
Fo</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">r
btrfs files</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">ystems
there is some prior setup to be done:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	i) First create a
zero length file:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">		# <font face="DejaVu Sans Mono, monospace">truncate
-s 0 /swap</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	ii) Then disable COW
(copy-on-write) on it:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">		# <font face="DejaVu Sans Mono, monospace">chattr
+C /swap</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	iii) And make sure
compression is disabled:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">		# <font face="DejaVu Sans Mono, monospace">btrfs
property set /swap compression none</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">b) Allocate the swap
file, replacing <font face="DejaVu Sans Mono, monospace">❬</font><font face="DejaVu Sans Mono, monospace">count</font><font face="DejaVu Sans Mono, monospace">❭</font>
with the number of MB you wish swap to have:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">dd
if=/dev/zero of=/swap bs=1MiB count=</font><font face="DejaVu Sans Mono, monospace">❬</font><font face="DejaVu Sans Mono, monospace">count</font><font face="DejaVu Sans Mono, monospace">❭</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">c) Set the appropriate
permissions to it—it should only be accessible to priviliged
processes:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">chmod
600 /swap</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">d) Set up a Linux swap
area on the file:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">mkswap
/swap</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">e)
Finally, add an entry for it in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">fstab</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">echo
'/swap none swap sw 0 0' &gt;&gt; /etc/fstab</font></font></p>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11824_1441295224"></a>
8. Make the new installation bootable</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">You
can </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">boot
the kernel directly</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
as an EFI executable or use a </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">separate
bootloader</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
set up the bootloader GRUB, consult the Void documentation with the
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>void-docs</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
command:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">void-docs
-r chroot</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>Note: Many UEFI
implementations allow choosing boot entries on startup, which may
make using a separate bootloader/manager for multi-booting
superfluous.</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
load the kernel directly as an EFI executable, use </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>efibootmgr</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">i)
Go through the options in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/default/efibootmgr-kernel-hook</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
enabling modification of EFI entries so that a boot entry is
automatically generated on kernel package reconfiguration.</span></span></font></p>
<ul>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">OPTIONS</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	needs to supply the root partition, in the form
	</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">root=UUID=a1b2(...)</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.
	You can</span></span></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	use </span></span></font></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">blkid</span></span></font></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	or </span></span></font></font><font color="#000000"><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">lslbk</span></span></font></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	to a</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">dd
	the UUID string to the file. Common kernel parameters to add here
	are </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">resume=</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">swap_partition</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	if using hibernation and </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">quiet</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	if wishing to see fewer log messages during system startup.</span></span></font></p>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">DISK</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	+ </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">PART</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	point to the ESP. Due to a potential issue with block device name
	persistence (where a device </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">sdX</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	may later on surface as </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">sdY</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">)
	set the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">DISK</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	parameter dynamically using </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">findmnt</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
	where </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">ESP_dir</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	below is your ESP mount directory (e.g. </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/boot</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">):</span></span></font></p>
	<ul>
		<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
		<font face="DejaVu Sans Mono, monospace">DISK=&quot;$(findmnt -enrs
		-o SOURCE -M ❬ESP_dir❭ | cut -c -8)&quot;</font></p>
	</ul>
</ul>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	Note that for NVMe
drives, the device name will have to be formatted differently.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">ii)
Add an entry for the system's</span></span></font> efivars <font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">to
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">fstab</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
and mount them manually so that the boot entry can be generated in
the next step:</span></span></font></p>
<p style="margin-bottom: 0in"><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">echo
'efivarfs /sys/firmware/efi/efivars efivarfs defaults 0 0' &gt;&gt; \</span></span></font></font></p>
<p style="margin-bottom: 0in"><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	&gt;
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/fstab</span></span></font></font></p>
<p style="margin-bottom: 0in"><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">mount
efivarfs</span></span></font></font></p>
<h5 class="western" style="margin-top: 0in; margin-bottom: 0in; font-weight: normal; page-break-before: auto; page-break-after: avoid">
</h5>
<h2 class="western"><a name="__RefHeading___Toc11826_1441295224"></a>9.
Reconfigure and reboot</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Use
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>xbps-reconfigure</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
to ensure all installed packages are set up properly:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">xbps-reconfigure
-fa</font></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">This
also generates a boot entry for the new installation. Review the
generated boot configuration with the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">efibootmgr</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
command, as you may need to update the boot order on first install.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">At
this point, the installation is complete. </span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">exit</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
the chroot, unmount or </span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">sync</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
the new filesystems manually to be sure no writes are pending, and
reboot the computer with</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">shutdown
-r now</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></span></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h1 class="western" align="center" style="line-height: 115%"><br/>

</h1>
<h1 class="western" align="center" style="line-height: 115%"><br/>

</h1>
<h1 class="western" align="center" style="line-height: 115%"><br/>

</h1>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11828_1441295224"></a>
System Components and Management</h1>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11830_1441295224"></a>Network</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Do
any necessary configuration to connect to the internet and persist it
across boots. If not using static IPs you will minimally need to set
up a </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">DHCP</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
client, and a </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">wireless</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
daemon if using Wi-Fi:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">For
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">DHCP</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
with </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>dhcpcd</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
or </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>ndhc</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
you can simply copy and rename the service folder suffixing your
network interface’s name, edit the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">run</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
file to use such interface, and then enable the service.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">For
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">wireless
connections</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
enable the</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
(potentially interface specific) </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">wpa_supplicant</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
or </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">iwd</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
services and use </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>wpa_cli</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
or </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>iwctl</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
respectively to easily set up a new connection. Note that </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">iwd</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
can also be used as a DHCP client, and that it requires </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">dbus</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
to be running.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">For
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Domain
Name Resolution</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
(DNS), you may use a separate application that provides security
features and/or caching, like </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">stubby</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
or </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">unbound</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
or use the nameservers already set up by your DHCP client, or simply
add your preferred nameservers manually to </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/resolv.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Note
that also, </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">firefox</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
has built-in resolution capabilities using DNS-over-HTTPS and name
caching.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11832_1441295224"></a>Firewall</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">You
can manage the kernel firewall with </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>iptables</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.
For quick setup for IPv4 connections, apply the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">simple_firewall.rules</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
present in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/iptables/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
with the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">iptables-restore
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">rules</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
command. See the Void docs for more details:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">void-docs
-r firewall</font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>Tip: If using
<font face="DejaVu Sans Mono, monospace">iptables</font>, you should
follow the “Simple stateful firewall” guide in the ArchWiki to
generate a more elaborate rule set, and which has a description of
what each rule does.</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11834_1441295224"></a>Users</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">a)
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Privilege
elevation</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Once the system is fully set up, it is crucial to log in as a regular
user for normal operation. To grant such regular users per-command
privilege elevation you can use the tool </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>doas</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
provided by the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">opendoas</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
package. Simply install the package and set it up</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">to
all</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">ow
users of the group </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">wheel</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
to execute commands as </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">root</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
when issued with it:</span></span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">echo
'permit :wheel as root' &gt; /etc/doas.conf</font></font></p>
<p style="margin-bottom: 0in"><i><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">A
very common, yet more internally complex alternative is using </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">sudo</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
for this purpose.</span></span></font></i></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">b) <u>User defaults</u>:
Default user creation parameters are set in <font face="DejaVu Sans Mono, monospace">/etc/default/useradd</font>.
Modify the file, and those in <font face="DejaVu Sans Mono, monospace">/etc/skel/</font>,
to provide the desired initial environment for new users.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">c)
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Adding
users</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Add the aforementioned regular user (plus any others you may need)
and then set their password. In addition to the </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">wheel</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
group, this user should be part of the </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">audio</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">input</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
and </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">video</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
groups to access audio and input devices and video hardware
acceleration, among others:</span></span></font></p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">useradd
-m -G audio,video,input,wheel </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">user_name</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	#
</span></span><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">passwd
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">user_name</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font></font></p>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11836_1441295224"></a>
Audio</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
set up audio, install the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">alsa-utils</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
package and use the</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">alsamixer</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
tool </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">to
unmute channels and set the volume. If you see that your desired
sound card is not set as default, find the card’s index number</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/proc/asound/cards</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
and set it as the default in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/asound.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/a</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">sound.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Set
default sound card</span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">defaults.ctl.card
<font face="DejaVu Sans Mono, monospace">❬</font>card_index<font face="DejaVu Sans Mono, monospace">❭</font></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">defaults.pcm.card
<font face="DejaVu Sans Mono, monospace">❬</font>card_index<font face="DejaVu Sans Mono, monospace">❭</font></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">defaults.hwdep.card
<font face="DejaVu Sans Mono, monospace">❬</font>card_index<font face="DejaVu Sans Mono, monospace">❭</font></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">defaults.timer.card
</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❬</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">card_index</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❭</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">Notes:</font></p>
<ul>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">You
	may also, or instead, need to specify the default ALSA </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">device,</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	in the same way.</span></span></font></p>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">If
	you use applications that require Pulseaudio, install it or the
	</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">apulse</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
	package.</span></span></font></p>
	<li><p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif">See the “Input and
	ACPI events” section for details on adjusting volume with hotkeys.</font></p>
</ul>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11838_1441295224"></a>Display
server</h2>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">This
section focuses on installing and configuring the Xorg display server
with a window manager. You can follow the installation below and
simply add or replace any drivers and components you need—for
information on installing proprietary or vendor specific graphics
drivers, access Void’s documentation with the </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><b>void-docs</b></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
command, e.g:</span></span></span></font></p>
<ul>
	<ul>
		<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">#
		</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">void-docs
		-r nvidia</span></span></span></font></p>
	</ul>
</ul>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc11892_1441295224"></a>Installation</h3>
<p style="margin-bottom: 0in; text-decoration: none"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	Select the
packages needed for a graphical session, including the X server,
startup scripts,</i></p>
<p style="margin-bottom: 0in; text-decoration: none"><i>	input and
graphics drivers and the message bus system:</i></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">PACKS=</font><font face="DejaVu Sans Mono, monospace"><b>'</b></font><font face="DejaVu Sans Mono, monospace">xorg-minimal
mesa-dri</font><font color="#000000"><font face="DejaVu Sans Mono, monospace">
dbus-x11</font></font></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">	…</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">
add bitmap and outline fonts (potentially some with extensive unicode
support):</span></span></i></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">	&gt;
</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">font-misc-misc
dejavu-fonts-ttf (font-unifont-bdf noto-fonts-ttf)</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">	…</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">
and your preferred window manager, a tool to launch applications
(which may be</span></span></i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>	included with the
former) and a terminal emulator—for example:</i></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">	&gt;
</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">spectrwm
dmenu st</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><b>'</b></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>	Install the
selected packages, making sure the repository index is synchronized
and</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>	that the system is
up-to-date:</i></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	# <font face="DejaVu Sans Mono, monospace">xbps-install
-Su $PACKS</font></font></p>
<h3 class="western"></h3>
<h3 class="western"><a name="__RefHeading___Toc11894_1441295224"></a>Configuration</h3>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><u><span style="font-weight: normal">Keyboard
layout</span></u></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">:
To set the default keyboard layout(s) for Xorg, add an X
configuration file that defines an input class setting the
&quot;XkbLayout&quot; option to them:</span></span></span></font></p>
<p style="margin-bottom: 0in; page-break-before: always"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/X11/xorg.conf.d/91-keyboard-user.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Set
keyboard layout</span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">Section
&quot;InputClass&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Identifier			&quot;default
keyboard layout&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	MatchDriver
		&quot;libinput&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	MatchIsKeyboard		&quot;on&quot;</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	#
Either set one layout:</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	Option
&quot;XkbLayout&quot;	&quot;</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❬</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">layout</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❭</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	#
Or define more layouts to switch between, e.g.</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	#
by pressing both Ctrl keys simultaneously:</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	#Option
&quot;XkbLayout&quot;	&quot;</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❬</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">layout</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❭</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">,</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❬</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">layout_alt</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">❭</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	#Option
&quot;XkbOptions&quot;	&quot;grp:ctrls_toggle&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">EndSection</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">To temporarily set other keyboard
layouts on Xorg use the <b>setxkbmap</b> command, provided by the
homonymous package.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><u><span style="font-weight: normal">Touchpad
tapping</span></u></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">:
</span></span></span></font>To enable tapping on touchpad devices,
add an X configuration file that defines an input class setting the
&quot;Tapping&quot; option to them:</p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/X11/xorg.conf.d/91-touchpad-user.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Enable
tapping</span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">Section
&quot;InputClass&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Identifier			&quot;enable
touchpad tapping&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	MatchDriver
		&quot;libinput&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	MatchIsTouchpad
	&quot;on&quot;</font></font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Option
&quot;Tapping&quot;	&quot;</span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">on</span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">EndSection</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><u><span style="font-weight: normal">Graphics
driver</span></u></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">:
To specify the driver to use with a graphics device and its
configuration, first find the BusID of the device with </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><b>lspci</b></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
(the first column) and format it accordingly—usually just prefixing
it with &quot;</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">PCI:</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">&quot;
and replacing the dot with a colon—then use it in an X
configuration file specifying the desired driver along with any
options, in the following format:</span></span></span></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/X11/xorg.conf.d/91-integrated-graphics.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
DDX </span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Intel
Graphics driver configuration (from xf86-video-intel package)</span></font></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">Section
&quot;Device&quot;</font></font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	#
Some identifier</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Identifier	&quot;integrated
graphics device&quot;</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	#
Driver to use with the device</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Driver	&quot;intel&quot;</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	#
BusID of the device in our PC</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	BusID		&quot;PCI:00:02:0&quot;</font></font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	#
Driver settings (optional)</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">
This one is driver specific, to prevent tearing without compositing</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Option	&quot;TearFree&quot;
&quot;on&quot;</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">EndSection</span></span></font></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in; page-break-before: always"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><u><span style="font-weight: normal">Session
timeouts</span></u></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">:
To set the screen locker and DPMS timeouts, set the BlankTime and
OffTime options respectively in a server flags X configuration file:</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/X11/xorg.conf.d/91-server-flags.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Xorg
server configuration</span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">Section
&quot;ServerFlags&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Option
&quot;BlankTime&quot;	&quot;❬minutes_blank❭&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	Option
&quot;StandbyTime&quot;	&quot;0&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">	Option
&quot;SuspendTime&quot;	&quot;0&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	Option
&quot;OffTime&quot;	&quot;❬minutes_off❭&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">EndSection</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">Notes:</font></p>
<ul>
	<li><p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif">The distinction in
	Standby, Suspend and Off times is only meaningful for CRT monitors.
	Furthermore, screen blanking often triggers DPMS activation in
	modern monitors.</font></p>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">Use
	the tool </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><b>xss-lock</b></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
	to run a screen locker (like </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">slock</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">)
	triggered by the Blank timeout.</span></span></span></font></p>
</ul>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc11896_1441295224"></a>Starting
the X server</h3>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">X
is commonly started using the </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><b>startx</b></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
script, provided by the </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">xinit</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
package, which handles the more complex aspects of setting up the
server. To configure it, modify the </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">xinitrc</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
script in </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/etc/X11/xinit/</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
to launch your desired application (like a window manager) when X
starts, after doing any necessary setup - for example:</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/etc/X11/xinit/xinitrc</span></span></span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#!/bin/sh</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#
start some nice programs - some applications put scripts there</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">if
[ -d /etc/X11/xinit/xinitrc.d ] ; then</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><span style="text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="font-weight: normal">for
f in /etc/X11/xinit/xinitrc.d/?*.sh ; do</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><span style="text-decoration: none">
 <font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="font-weight: normal">[
-x &quot;$f&quot; ] &amp;&amp; . &quot;$f&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><span style="text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="font-weight: normal">done</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><span style="text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="font-weight: normal">unset
f</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">fi</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#
apply per-user wallpaper - this uses ImageMagick</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">display
-background gray12 -backdrop -window root
$HOME/Pictures/.wallpaper.*g</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#
start locker daemon</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">xss-lock
slock &amp;</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#
start session</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">dbus-launch
--exit-with-x11 spectrwm</span></span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">The
last line above sets up a session message bus and launches the window
manager </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">spectrwm</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">.
When the window manager quits, </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">X</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
will in turn exit which will cause the </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">dbus</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
daemon to notify clients of this (which ideally would clean up and
quit in response) and then exit itself.</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">To
start X automatically when logging in from a login shell, execute
</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">startx</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
in </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/etc/profile</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">,
which is read and executed by the login shell at such point,
conditioning such execution on any parameters you require:</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in; page-break-before: always"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/profile</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">(...)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
startx automatically when logging in on tty1 as a regular user</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">if
[ ! $DISPLAY ] &amp;&amp; [ &quot;$(tty)&quot; </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">=</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
'/dev/tty1' ] &amp;&amp; [ $(id -u)</span></font></font></code><code><font face="DejaVu Sans Condensed, sans-serif"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">-</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">ne</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
0 ]; then</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><span style="text-decoration: none">
 </span></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">exec
startx</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">fi</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">Once
you have tested your configuration to work, consider modifying the
</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">Xwrapper.config</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
file in </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/etc/X11/</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
to allow for auto-detection of required privileges to run the server,
so that X itself may be run as a regular user rather than root (see
Xorg.wrap(1)). This is a security improvement, but its availability
depends on the graphics devices and drivers you use.</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>Note: The &quot;exec&quot;
command above is desirable, as when the X server exits, the user will
be logged out. This denies the ability of killing (or crashing) the X
server to bypass locking or authentication mechanisms, and it does
not prevent running Xorg root-less.</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11840_1441295224"></a>Input
and ACPI events</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
manage input and ACPI events you use </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>acpid</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
a daemon which links such events to an action. It can be used to set
volume and backlight levels on key presses, to react to power or
battery related events, and much more. Generically, to trigger an
action in response to an event:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	i)
Use the tool </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>acpi_listen</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
to identify the event by triggering it.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	ii)
Add an entry for the event to a file in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/acpi/events/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
and its associated handler</span></span></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	script
(if such is required) in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/acpi/handlers/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	iii) Restart the
<font face="DejaVu Sans Mono, monospace">acpid</font> service.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">The
script </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/acpi/handler.sh</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
has preset actions for some ACPI events. Since its dynamic power
management functionality will have to be implemented differently for
one’s machine, and to maximize the modularity of the configuration,
it is advisable to limit such script to handling system power states
and then manage others with dedicated files:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">acpi</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/events/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">anything</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#
anything, that is one of these</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">event=button/(power|sleep|lid)</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">action=/etc/acpi/handler.sh
%e</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc11898_1441295224"></a>Reboot,
shutdown and suspend</h3>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">To <u>reboot</u>,
simply log out and hit <font face="DejaVu Sans Mono, monospace">Ctrl+Alt+Del</font>
on the login shell, which is set to send the appropriate signal to
the OS.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">To <u>shutdown</u> or
<u>suspend</u> the system, use <font face="DejaVu Sans Mono, monospace">acpid</font>
and <b>zzz</b>. Simply enable the<span style="font-style: normal">
</span><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal">acpid</span></font><span style="font-style: normal">
serv</span>ice if you have not yet done so, and the following will
already be configured for you:</font></p>
<ul>
	<li><p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif">Shutting down by
	pressing (but not holding) the power button on your PC. Make sure
	you have logged out of all sessions first, being dropped out to a
	login shell.</font></p>
	<li><p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif">Suspending by
	pressing the sleep button on your PC, or by closing a laptop’s
	lid.</font></p>
</ul>
<h3 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11900_1441295224"></a>
Hibernation</h3>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">After
setting up an environment that allows for hibernation (with an
appropriately sized swap partition and the corresponding kernel
parameter), you can trigger it by issuing the &quot;</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">zzz
-Z</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">&quot;
command as a response to an event of your choosing through </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">acpid</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc11902_1441295224"></a>Volume
and backlight</h3>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Files
to manage </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">volume</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
and </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">backlight</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
related input events through </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">acpid</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
are provided in the Appendix.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc11904_1441295224"></a>Power
and battery</h3>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Battery</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Some laptops send the appropriate signals the OS as a battery
discharges, which you can handle with </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">acpid</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.
For others, you can query battery status and load with the </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>acpi</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
command, provided by the homonymous package, whenever another event
occurs or on a timer (see next section).</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><u>Power</u>: See the
“Power profiles” subsection of the “Power saving and
performance” section further below, and the relevant files in the
Appendix.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11842_1441295224"></a>Scheduled
actions</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
schedule the execution of commands you can use </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>snooze</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
which has services already set up to run commands on an hourly,
daily, weekly and monthly basis that you can enable. You can also use
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">snooze</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
to run a command at a particular time and date, or on different
periods.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">The
simplest way to use it is to enable a service for a particular run
frequency, and drop executable scripts in its corresponding folder
with the name </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">chron.</span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">❬frequency❭</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
(which may have to be created).</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">Among other things,
scheduling can be used to automate system maintenance, updating
backups, querying for information over the web, send notifications,
etc. Common periodic actions most users will require are described
below.</font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><i>Notes:</i></font></p>
<ul>
	<li><p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif"><i>You should
	minimally enable the <font face="DejaVu Sans Mono, monospace">snooze-daily</font>
	service, as daily scheduling is used for some system maintenance
	tasks.</i></font></p>
	<li><p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">Consider
	installing the package </span></span></i></font><font face="DejaVu Sans Mono, monospace"><i><span style="text-decoration: none"><span style="font-weight: normal">PopCorn</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">,
	which provides a service that uses </span></span></i></font><font face="DejaVu Sans Mono, monospace"><i><span style="text-decoration: none"><span style="font-weight: normal">snooze</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">
	as well and supplies the Void project with anonymous package
	statistics.</span></span></i></font></p>
</ul>
<p style="margin-bottom: 0in; font-weight: normal; page-break-before: auto; page-break-after: auto">
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc11844_1441295224"></a>Network
Time Synchronization</h3>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">There are many ways to
synchronize the system’s clock with that of a time server. A simple
and effective one is using the SNTP Perl script from the site
kloth.net:</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	i)
Install </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">perl</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
if you have not already. Apart from being handy, Perl is a dependency
of a</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	large amount of
packages so it would likely be pulled as such at some point.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none; page-break-before: always">
<font face="DejaVu Sans Condensed, sans-serif">	ii) Copy the script
on the website to a file, commenting out the invocation of the</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">	“output_ntp_data”
function (as suggested) near the bottom, to make it less verbose.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	iii)
Set is as executable, and drop it in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/usr/local/bin/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	iv)
Add an entry in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">chron.weekly</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
so that </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">snooze</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
may trigger its execution regularly:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">chron.weekly</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">sntp-update</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#!/bin/sh</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">/usr/bin/perl
/usr/local/bin/sntp -u pool.ntp.org</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">Notes:</font></p>
<ul>
	<li><p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif">By running the script
	without the &quot;-u&quot; option on a terminal, you can see the
	network time and its delta compared to your system’s time. Small
	deltas, &lt;1s, are expected, but even deltas of several seconds are
	usually not a problem.</font></p>
	<li><p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
	<font face="DejaVu Sans Condensed, sans-serif">If accuracy is
	critical, or if your hardware clock tends to deviate substantially
	from the actual time, consider using an NTP daemon instead.</font></p>
</ul>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h3 class="western" style="font-weight: normal"><a name="__RefHeading___Toc11846_1441295224"></a>
<font face="DejaVu Sans Condensed, sans-serif"><u>Filesystem TRIM</u></font></h3>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Filesystems
on SSD drives should be subject to </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">trimming</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
periodically to maintain drive performance and health. For this, use
the tool </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">fstrim</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
provided by the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">util-linux</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
package, itself a dependency of the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">base-minimal</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
meta-package.</span></span></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
trim all supported filesystems listed in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">fstab</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
weekly, use the following:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">chron.weekly</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">fstrim-fstab</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#!/bin/sh</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">/usr/bin/fstrim
-A</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">Tip:
That above is periodic trim. Do not use </span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">continuous</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">
trim -the “discard” mount option or flag- unless you have a solid
understanding of its purpose and how it would affect your drive.</span></span></i></font></p>
<h1 class="western" align="center" style="line-height: 115%"><br/>

</h1>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11848_1441295224"></a>
Power saving and performance</h1>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">Configuration
in this section is presented to be applied </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">statically,</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
not dependent on the system’s power source or a global ‘power
mode’, while the </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">Power
profiles</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
subsection describes how it can be applied dynamically and files for
such purpose are provided in the Appendix. Each item is succinctly
described—the user is expected to read further about them elsewhere
if required.</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">An
excellent aid in the configuration of power saving is the tool
</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><b>powertop</b></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">,
which can generate system power reports and show real time power draw
data. While being primarily a diagnostics tool, it also has an
“auto-tune” option which can automatically set a good deal of the
tunables below—however, note that such automatic configuration is
not persistent and not meant to replace a custom-tailored one.</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><i>Indeed widely, I
suggest avoiding tools that do intend to provide automatic power
configuration. Understanding and tailoring the configuration for
one’s hardware and its use will result in a more reliable,
efficient and better performing system—and it can be quite simple,
as today most power management aspects are already handled smartly by
your firmware, drivers, kernel and distro.</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11850_1441295224"></a>Laptop
mode</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">If
you are using a laptop and running the OS from a hard drive (i.e, not
an SSD, etc), you can use the “laptop mode” kernel feature as a
power saving technique, which aims to keep the OS’s hard drive in
suspension as much as possible. An implementation of this feature can
be found in </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">the
Appendix, which requires that you disable </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">access
timestamps</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
as described below, and that you do not enable </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">block
layer rpm</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
on your main hard drive, as it uses </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">hdparm</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
for drive suspension.</span></span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11852_1441295224"></a>Lockup
detectors</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Turning
off the kernel’s lockup detectors can decrease power consumption,
as these are active high-priority tasks and, particularly, the
hardlockup detector may generate a high number of interrupts on some
systems. These detectors are used for debugging, and are generally
dispensable to PC users. To do this, add the “nowatchdog” option
to your kernel parameters in your </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">efibootmgr</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
hook or bootloader configuration.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11854_1441295224"></a>PCI
and SCSI bus devices</h2>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><a name="__RefHeading___Toc11906_1441295224"></a>
<font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">PCI
RPM</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
PCI devices can be put in a low-power state when idle through
automatic Runtime Power Management to save power. The caveat is that
some devices may not become active again after entering such state.
To handle this, identify the Vendor and Device IDs of any device that
fails to wake up with &quot;</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">lspci
-nn</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">&quot;
and add them to a blacklist, so that those remain active throughout.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><u><span style="font-weight: normal">Block
Layer RPM</span></u></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">:
Similarly, block devices may use runtime power management to access
low-power states. This time a timeout needs to be set, at which point
the device will flush the cache and go into suspension. Note that
using it with frequently accessed hard drives could result in high
latencies and component wear-down if the power state transitions are
over-frequent. A whitelist may thus </span></span></span></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">be
preferred, where</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
drives can be identified by their World Wide Identifier (see
</span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/sys/bus/scsi/devices/*:*:*:*/wwid</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">)
to be selected and assigned specific timeouts.</span></span></span></font></p>
<p style="margin-bottom: 0in; page-break-before: always"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">SATA
LPM</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Further power savings can be achieved by using a medium power SATA
Link Power Management setting, allowing devices to enter lower power
states. The recommended option for modern systems is
“med_power_with_dipm”, which works together with the devices’
own power configuration, otherwise being regular “medium_power”.
The default is “max_performance”.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>Note: While
reportedly rare, using medium LPM settings (with some older drives)
could result in data corruption. There is a “min_power” mode as
well, but using it is strongly discouraged due to the risk of data
loss, and using Device Initiated PM already results in similar power
savings.</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Readahead</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Increasing file data readahead for hard drive devices can
substantially increase I/O throughput with minimal latency penalties,
and it can also benefit solid state drives to a more moderate degree.
The default (software) readahead is 128kB, which can be safely
doubled on modern systems, while more memory or I/O constrained
systems should keep the default value.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Scheduler</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
I/O performance can be increased by using the appropriate I/O
scheduler for your hardware and workloads. Generally, you can improve
performance and reduce latency by using the &quot;mq-deadline&quot;
scheduler on SSDs and the (default low latency) &quot;bfq&quot;
scheduler on HDDs. However, NVMe drive performance benefits from
setting no scheduler at all, i.e. “none”.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">To
apply these settings use a set of </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>udev</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
rules applying desired values, for example:</span></span></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/udev/rules.d/91-power-and-performance.rules</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">schedulers</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">block</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;,
KERNEL==&quot;sd[a-z]&quot;, ATTR{queue/rotational}==&quot;0&quot;, \</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	ATTR{queue/scheduler}=&quot;mq-deadline&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">block</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;,
KERNEL==&quot;sd[a-z]&quot;, ATTR{queue/rotational}==&quot;1&quot;, \</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	ATTR{queue/scheduler}=&quot;bfq&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">readahead</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">block</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;,
KERNEL==&quot;sd[a-z]&quot;, ATTR{queue/read_ahead_kb}=&quot;256&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
SATA LPM</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;scsi_host&quot;,
KERNEL==&quot;host*&quot;, \</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	ATTR{link_power_management_policy}=&quot;med_power_with_dipm&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Block
Layer RPM - using whitelist</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;scsi&quot;,
ATTR{</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">wwid</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">}==&quot;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">exact
very long world wide identifier</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;,
\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	ATTR{power/autosuspend_delay_ms}=&quot;30</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">0</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">000&quot;,
ATTR{power/control}=&quot;auto&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">PCI
RPM - using blacklist</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;pci&quot;,
ATTR{vendor}==&quot;0x</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">0a1b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;,
ATTR{device}==&quot;0x</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">2c3d</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;,
\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	GOTO=&quot;pci_</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">rpm</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">_end&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">SUBSYSTEM==&quot;pci&quot;,
ATTR{power/control}=&quot;auto&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">LABEL=&quot;pci_rpm_end&quot;</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11856_1441295224"></a>HDD
Advanced Power Management</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Among
other parameters, you can set a hard drive’s Advanced Power
Management (APM) feature with the tool </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>hdparm</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.
Generally, it is best to set high APM levels to avoid excessive head
parking and undesired spindown -which can cause heightened component
wear-down when too frequent- while also not compromising the -much
needed- drive</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">’</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">s
performance. Power savings and wear reduction can be achieved by
manually managing drive suspension, which</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
may be done in different ways</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">—</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">e.g.
the above-mentioned </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">Block
Layer RPM</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><u><span style="font-weight: normal">or</span></u></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
tools like </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">hdparm</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">.</span></span></span></font></p>
<p style="margin-bottom: 0in; page-break-before: always"><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">Note
that many drives </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">do</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
allow spindown with APM levels above 127, while they may ignore any
manually set timeout with levels below 128. If unsure, try first
levels 192, 128, 127, in that order, and add </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">hdparm</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
commands to </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/etc/rc.local</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
to apply them on system startup and to a script in </span></span></span></font><font face="DejaVu Sans Mono, monospace"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/etc/zzz.d/resume/</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
to retain them after a system suspend.</span></span></span></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11858_1441295224"></a>Filesystems
and virtual memory</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Access
timestamps</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Using the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">noatime</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
mount option disables inode access time updates on a filesystem,
increasing performance and reducing drive access. You can set this in
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/fstab</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
to your root and ESP partitions, and any other mount point you judge
it pertinent.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Data
flushing</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
To further reduce drive access you can increase the intervals after
which the kernel will write old data to disk. This is by default done
every 5 seconds for both data and journaling (on journaling
filesystems like ext4) </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">—</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
you can tune it with the following:</span></span></font></p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	i)
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Journaling</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Add the </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">commit=</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">seconds</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
option to your (ext4 or btrfs) filesystem's 	mount options in
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/fstab</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.
E.g, 15 seconds.</span></span></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">	ii)
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Data</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
Add the </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">vm.dirty_writeback_centisecs</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">=</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❬centi</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">seconds</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">❭</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
setting in a 	</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
file located in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/sysctl.d/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
(see further below). E.g, 1500 centiseconds.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none; page-break-before: auto; page-break-after: auto">
<code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">/etc/fstab</font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
&lt;file system&gt;  &lt;dir&gt;  	&lt;type&gt;	&lt;options&gt; 		  	
 	   &lt;dump&gt; &lt;pass&gt;</font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
/dev/sda2</font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">UUID=a1b2(...)	
/		ext4		defaults,</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><b>noatime</b></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">,</span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><b>commit=</b></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><b>15</b></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		
  0    1</span></font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
/dev/sda1</font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">UUID=9Z8Y(...)	
/boot	vfat		defaults,</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><b>noatime</b></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">,umask=022,utf8	
  0    2</font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code>(...)</code></font></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal"><br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><u><span style="font-weight: normal">Paging
and cached data</span></u></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:
There are two main tuning knobs to consider here, </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">swappiness</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
and </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">virtual
filesystem cache pressure</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">.
The first one defines the rough relative I/O cost of swapping and
filesystem paging, the other controls the tendency of the kernel to
reclaim the memory which is used for caching of directory and inode
objects.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">The default value of
swappiness is 60—decreasing the value will cause the kernel to
disprefer swapping. The default value of cache pressure is
100—decreasing the value will increase its preference to conserve
cached data.</font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">On
systems with high physical memory, you can use lower swappiness and
cache pressure values, e.g. 15 and 65 respectively, by setting
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">vm.swappiness</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
and </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">vm.vfs_cache_pressure</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
in a </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
file located in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/sysctl.d/</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/sysctl.d/91-</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">df-vm.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">vm.dirty_writeback_centisecs
= 1500</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">vm.swappiness
= 15</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">vm.vfs_cache_pressure
= 65</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11860_1441295224"></a>Audio
power save</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">For audio devices
using the &quot;snd_hda_intel&quot; or &quot;snd_ac97_codec&quot;
drivers, these can be set to turn off the codec power when the device
has not been in use after a certain amount of time.</font></p>
<p style="margin-bottom: 0in; page-break-before: always"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Check
the drivers your audio devices are using with </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">lspci
-k</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
and set the </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">power_save</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
option with a timeout in seconds for such drivers in a </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">.conf</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
file located in </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">/etc/modprobe.d</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/modprobe.d/91-audio-power-save.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#options
snd_ac97_codec power_save=5</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">options
snd_hda_intel power_save=5</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11862_1441295224"></a>CPU
frequency scaling</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">CPU
frequencies are managed by the active </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">governor</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
for each core. Scaling governors set frequencies dynamically,
providing great performance while not sacrificing efficiency.
Situationally, however, non-scaling governorns may be preferred, like
(</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">cpufreq</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">'s)
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">‘powersave’</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
governor which sets frequencies statically to their lowest point for
maximum power savings.</span></span></font></p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Within
</span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">cpufreq</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">,
the</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">schedutil</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
scaling </span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">governor
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">is
</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">gradually</span></span></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></font></font><font color="#000000"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">turning
</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">to
be the default,</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
“best-of-all-worlds” on</span></span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">e
for general use, being closely integrated with the kernel.</span></span></font>
T<font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">o
set it -or any other governor you wish- at startup, add the following
to your </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">rc.local</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
file:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/rc.local</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code><font face="DejaVu Sans Mono, monospace">(...)</font></code></font></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">for
d in </span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">/sys/devices/system/cpu</span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">/cpufreq/policy[0-9]*
; do</span></span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">	echo
</span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">'schedutil'</span></span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">
&gt; &quot;$d/scaling_governor&quot;</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code><font face="DejaVu Sans Mono, monospace">done</font></code></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Mono, monospace"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">(...)</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">Note
that, on modern Intel CPUs, you can use the Intel P-State driver
which provides its own scaling governors when active, called
‘performance’ and ‘powersave’ (like cpufreq's </span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><i><span style="text-decoration: none"><span style="font-weight: normal">non</span></span></i></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">-scaling
governors). Broadly, they still tend to perform better than
</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">schedutil</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">”</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">,
especially when raw performance is prioritized over power draw. If
you wish to use them, set the governors</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">’</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
</span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">status</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">
in </span></span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">/</span></span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">sys/devices/system/cpu/intel_pstate/</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
to </span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">“</span></span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">active</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">”
and then set a governor as above.</span></span></span></font></font></p>
<h2 class="western" style="page-break-before: auto; page-break-after: auto">
</h2>
<h2 class="western"><a name="__RefHeading___Toc11864_1441295224"></a>Initial
images</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">You
can generate smaller initramfs boot images by directing </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><b>dracut</b></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
to install only what is needed for booting the local host, which can
speed up startup times. This is usually safe, but you should always
test it first conserving a generic boot image in case some module
results to be missing. Additionally, you can use a different
compressor or no compression at all for further tuning. E.g:</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/dracut.conf.d/90-boot-image-tuning.conf</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">#
generate host-specific boot image</span></span></font></font></code></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">hostonly=&quot;yes&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
we set kernel parameters elsewhere</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">hostonly_cmdline=&quot;no&quot;</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#
having installed lz4, we can use it as a fast (de)compression
alternative</font></font></code></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt">#compress=&quot;lz4&quot;</font></font></code></font></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc12693_1441295224"></a>
Power profiles</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">Some
power and performance configuration needs to be dynamic: Laptop users
will require that the system enter a power saving mode when running
on battery, and desktop users may wish to trigger a (high power)
minimal latency mode for timing-critical tasks, among other
scenarios. Such cases can be easily managed with </span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">acpid</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">,
by creating an event file that matches the event, like a power source
transition or some sort of </span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><i><span style="text-decoration: none"><span style="font-weight: normal">turbo
button</span></span></i></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
press, to a script that will set the desired configuration.</span></span></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">When
changing the configuration dynamically, kernel parameters should be
set with the </span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><b>sysctl</b></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
command, and parameters set above through </span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">udev</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
are (typically) accessible as writable files under the </span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">/sys</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">
folder.</span></span></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">Laptop
users should set up power profiles dependent on the computer</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">’</span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="text-decoration: none"><span style="font-weight: normal">s
power source, usually involving HDD power management if running the
OS from one, CPU frequency scaling, and any relevant GPU settings
that their driver provides. </span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">All
but the last one are tackled in the Appendix files, and the latter
can easily be added to them. Do not forget you can check </span></span></span></font></font><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">powertop</span></span></span></font></font><font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><span style="font-style: normal"><span style="text-decoration: none"><span style="font-weight: normal">'s
live data while setting it up, to identify any further configuration
that may be needed.</span></span></span></font></font></p>
<p style="margin-bottom: 0in; font-style: normal; font-weight: normal; text-decoration: none">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11866_1441295224"></a>What
about...?</h2>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>Wakeup-on-Lan?</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">WOL
appears to be disabled by default on Void. If you wish to set it, use
the commands that </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">powertop</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
provides to toggle it, or use a </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">udev</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
rule to -for example- match to the &quot;net&quot; subsystem and
change the </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">wakeup</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
power setting on the devices (enabled/disabled).</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>USB autosuspend?</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">I
find that its unreliability outweighs the meager benefit.
Furthermore, a power-sensitive system like a laptop would be set to
suspend before USB autosuspend could make an appreciable difference,
as any connected USB devices will likely </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">be
used</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
when the computer is active.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>AHCI host
controller PM?</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">Quite
bug-prone on </span></span></font><font face="DejaVu Sans Condensed, sans-serif"><i><span style="text-decoration: none"><span style="font-weight: normal">both</span></span></i></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
my laptop and desktop, so I omitted it out of caution. Perhaps in a
future version of this guide, if I can solve the problems, it will be
featured. If you want to try it, use the commands that </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">powertop</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
provides and test, checking </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">dmesg</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
logs, after having saved and synced your data.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><i>Active State Power
Management?</i></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">This is normally
handled by your BIOS.</font></p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc12346_1441295224"></a>
APPENDIX</h1>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">Files in the Appendix
should simply be copied to their corresponding system directories.
Make sure that all files are readable, and additionally that all
scripts are executable.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">The
scripts are made for </span></span></font><font face="DejaVu Sans Mono, monospace"><span style="text-decoration: none"><span style="font-weight: normal">dash</span></span></font><font face="DejaVu Sans Condensed, sans-serif"><span style="text-decoration: none"><span style="font-weight: normal">
(Debian Almquist shell), so they should be quite compatible.</span></span></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif">WARNING: The scripts
in the Power Management section below need testing. They should be
safe to try, but take a look at them prior to use.</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><a name="__RefHeading___Toc11868_1441295224"></a>
<b>POWER MANAGEMENT</b></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/acpi/events/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">ac_adapter</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Change power mode on power source transition</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">event=</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">ac_adapter</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">action=/etc/acpi/handlers/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">power-ctl</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">%e</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/acpi/handlers/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">power-ctl</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#!/bin/sh</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Power mode handler script - part of: rinsmiles guide to the Void.</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Use</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
HDD APM and spindown </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">features</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">,
and </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">allow</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
laptop-mode.</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">manage_hdd=1</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Hdparm's APM and spindown options.</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">hdparm_options_powersave='</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">-qB127
-qS40'</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">hdparm_options_performance='-qB192
-qS0'</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Use laptop mode for further power savings. Overrides the above.</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">use_laptop_mode=1</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Force
using specified</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
root HDD. </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Values</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">:
{no|/dev/disk/by-id/&lt;h</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">dd-</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">id&gt;}</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">force_hdd='no'</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Allow setting CPU governors and driver state.</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">manage_cpu=1</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Set
CPU frequency</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
governors</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">.</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">governor</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">_powersave='</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">powersave'</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">governor</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">_p</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">erformance</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">='</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">ondemand'</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Use Intel P-State driver </span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">for</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
scaling if available</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">.
Overrides the above.</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">use_pstate_scaling=1</span></font></font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace">#</font></font></code></font></font></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Setup: HDD</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">if
	[ &quot;$force_hdd&quot; != 'no' ] ; then</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	rd_id=&quot;$force_hdd&quot;</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">el</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">se
# get the device containing the root mount, as long as it is
compatible</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	rd_id=$(findmnt
-</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">e</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">nr
-o SOURCE -t ext4,btrfs -M </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
| </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">cut
-c 6-8)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	rd_id_pass=$(cat
/sys/class/block/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">$rd_id</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/queue/rotational
|| echo 0)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	rd_id=&quot;/dev/$rd_id&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	[
&quot;$rd_id_pass&quot; != '1' ] </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&amp;&amp;
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">manage_hdd=0</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">fi</span></font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code><font face="DejaVu Sans Mono, monospace">[
! </font></code><code><font face="DejaVu Sans Mono, monospace">-x</font></code><code><font face="DejaVu Sans Mono, monospace">
/etc/acpi/resources/laptop_mode ] &amp;&amp; use_laptop_mode=0</font></code></font></font></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace">#</font></font></code></font></font></p>
<hr/>

<hr/>

<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><i><span style="text-decoration: none">Continues</span></i></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><i><span style="text-decoration: none">
on the next page</span></i></font></font></font></code></p>
<hr/>

<hr/>

<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><i><span style="text-decoration: none">Continued:
/etc/acpi/handlers/</span></i></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><i><span style="text-decoration: none">power-ctl</span></i></font></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Setup: CPU</span></font></font></code></p>
<p style="margin-bottom: 0in; text-decoration: none"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace">cpu_dir='/sys/devices/system/cpu'</font></font></code></font></font></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">if
[ $use_pstate_scaling -eq 1 ] &amp;&amp; [ </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">-w</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
$</span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">cpu_dir</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/intel_pstate/status
] ; </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">then</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	governor</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">_powersave='powersave'</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	governor</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">_p</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">erformance</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">='</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">performance'</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">else	use_pstate_scaling=0</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">fi</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">set_hdd_mode()
{</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	if
[ $use_laptop_mode -eq 1 ] ; then</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		/etc/acpi/resources/laptop_mode
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">$lmode</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
&quot;$rd_id&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	else	hdparm
$hdparam </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">&quot;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">$rd_id&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	fi</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">}</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">set_</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">cpu_mode</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">()
{</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	[
$use_pstate_scaling -eq 1 ] &amp;&amp; \</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		echo
'active' &gt; $</span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">cpu_dir</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/intel_pstate/status</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	for
d in $c</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">pu_dir</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/cpufreq/policy[0-9]*
; do</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		echo
$governor &gt; &quot;$d/scaling_governor&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	done</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">}</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">case
&quot;$2&quot; in</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">AC*|ADP0)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">case
&quot;$4&quot; in</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">00000000)
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
battery mode configuration</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">				lmode='enable'</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">				hdparam=$hdparm_options_powersave</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">				governor=$governor</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">_powersave</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">				[
$</span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">manage_hdd</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
-eq </span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">1</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">]
&amp;&amp; set_hdd_mode</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">				[
</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">$manage_cpu
-eq 1 </span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">]
&amp;&amp; set_</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">cpu_mode</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">				#
Signal the user that </span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">backlight
should be lowered:</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">				[
-x 	/etc/acpi/handlers/backlight-ctl ] &amp;&amp; \</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">					/etc/acpi/handlers/backlight-ctl
down</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">00000001)
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
ac_power mode configuration</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">				l</span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">mode='disable'</span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">				hdparam</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">=$hdparm_options_performance</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">				governor=$governor</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">_p</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">erformance</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">				[
$</span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">manage_hdd</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
-eq </span></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">1</span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">]
&amp;&amp; set_hdd_mode</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">				[
</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">$manage_cpu
-eq 1 </span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">]
&amp;&amp; set_</span></span></font></font></font></code><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none"><span style="font-weight: normal">cpu_mode</span></span></font></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">esac</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">esac</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; page-break-before: auto; page-break-after: auto">
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in; page-break-before: always"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/etc/acpi/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">resources</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">laptop_mode</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#!/bin/sh</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Laptop mode </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">setup</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
script - part of: rinsmiles guide to the Void.</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
Usage: laptop_mode {enable|disable} &lt;oshdd&gt;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">Requires
noatime mnt opt be set on oshdd's filesystems, and hdparm. See:</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#
https://www.kernel.org/doc/html/latest/admin-guide/laptops/laptop-mode.html</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">#</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">hdparm
-qf &quot;$2&quot; || exit</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">case
&quot;$1&quot; in</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	enable)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		#
enable laptop mode with its default values for the vm subsystem</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font color="#000000"><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		</span></font></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">sysctl
-qw vm.laptop_mode=5 			\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_writeback_centisecs=60000
	\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_expire_centisecs=60000
	\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_ratio=40
				\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_background_ratio=5</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		mount
--all -o remount,commit=600 -t ext4,btrfs</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		hdparm
-qa2048 -qB127 -qS6 &quot;$2&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	disable</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		#
disable laptop mode</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">,
setting parameters to their default values</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		#
where commit, writeback and readahead's are suggested in the guide</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">sysctl
-qw vm.laptop_mode=0 			\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_writeback_centisecs=1500
	\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_expire_centisecs=3000
		\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_ratio=20
				\</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">			vm.dirty_background_ratio=10</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		mount
--all -o remount,commit=15 -t ext4,btrfs</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">		hdparm
-qa512 -qB192 -qS0 &quot;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">$2&quot;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">	;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">esac</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><a name="__RefHeading___Toc11870_1441295224"></a>
<b>VOLUME AND BACKLIGHT</b></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">/etc/acpi/events/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">video-brightnessup</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">Increase</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
screen brightness through dedicated script</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">event=</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">video/brightnessup</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">action=/etc/acpi/handlers/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">backlight-ctl</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">.sh
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">up</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt">/etc/acpi/events/</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt">video-brightnessdown</font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">Decrease</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
screen brightness through dedicated script</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">event=</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">video/brightnessdown</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">action=/etc/acpi/handlers/</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">backlight-ctl</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">.sh
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">down</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none; page-break-before: auto; page-break-after: auto">
<br/>

</p>
<p style="margin-bottom: 0in; text-decoration: none; page-break-before: always">
<code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt">/etc/acpi/handlers/</font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt">backlight-ctl.sh</font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#!/bin/sh</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
Screen backlight handler script</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="2" style="font-size: 11pt"><span style="text-decoration: none">
- part of: rinsmiles guide to the Void.</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
Look for an interface</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">bl_dev='/sys/class/backlight/acpi_video0'</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">[
! -d </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">$bl_dev</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
] &amp;&amp; bl_dev='/sys/class/backlight/intel_backlight'</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
Get max and current values, and </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">derive
increment/decrement</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">=$(cat
$bl_dev/max_brightness) || </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">exit</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l_cur</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">=$(cat
$bl_dev/brightness)</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">_mod=$(($b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">/
15</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">))</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">case
$1 in</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">	up)		b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">=$((
$b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l_cur</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
+ $b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">_mod
)) ;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">	down)	b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">_clamp=$(($b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
/ 3))</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">			b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">=$((
$b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l_cur</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
- $b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">_mod
))</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">			[
$b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
-lt $b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">_clamp
] &amp;&amp;</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">=$b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">_clamp
;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">	max)		;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">	dim</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">)		b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">=$((
$b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">/
2 </span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">))
;;</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">esac</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">echo
$b</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">l</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">
&gt; $bl_dev/brightness</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none; page-break-before: auto; page-break-after: auto">
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">/etc/acpi/events/button-volume</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">up</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">Raise
Master volume of default ALSA device</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">event=button/volumeup</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">action=/usr/bin/amixer
set Master 5%%+</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">/etc/acpi/events/button-volume</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">down</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">Lower
Master volume of default ALSA device</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">event=button/volume</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">down</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">action=/usr/bin/amixer
set Master 5%%-</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">/etc/acpi/events/button-volume</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">mute</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">#
</span></font></font></code><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">Toggle
Master volume of default ALSA device</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">event=button/mute</span></font></font></code></p>
<p style="margin-bottom: 0in"><code><font face="DejaVu Sans Mono, monospace"><font size="3" style="font-size: 12pt"><span style="text-decoration: none">action=/usr/bin/amixer
set Master toggle</span></font></font></code></p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<hr/>

<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
   <font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><i>Hope
you've found it useful! Feedback is always welcome, find me on Reddit
as:</i></font></font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p align="right" style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<font face="DejaVu Sans Condensed, sans-serif"><font size="3" style="font-size: 12pt"><i>rinsmiles	</i></font></font></p>
<p align="right" style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<p style="margin-bottom: 0.01in; border-top: none; border-bottom: 1px solid #808080; border-left: none; border-right: none; padding: 0in">
<font size="1" style="font-size: 2pt">.-</font></p>
<p style="margin-bottom: 0in; font-weight: normal; text-decoration: none">
<br/>

</p>
<div title="footer"><p align="right" style="margin-bottom: 0in"><span style="background: #c0c0c0"><sdfield type=PAGE subtype=RANDOM format=PAGE>23</sdfield></span></p>
</div>
</body>
</html>
